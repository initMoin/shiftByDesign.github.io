---
---

/* -------------------------------------------------------
   main.scss  —  shift byDesign
   Organized, conflict-free stylesheet
------------------------------------------------------- */

/* ========== CSS Custom Properties ========== */
:root {
  /* Base colors */
  --bg: #ffffff;
  --fg: #111111;
  --muted: #6b7280;

  /* Brand accents */
  --brand-orange: #FF4E00;
  --brand-blue:   #00B2FF;

  /* Social “pill” colors */
  --github:   #000000;
  --medium:   #000000;
  --five00px: #000000;   /* 500px */
  --bluesky:  #0285FF;
  --mastodon: #6364FF;
  --email:    #0A84FF;

  /* Motion */
  --anim-dur: 280ms;
  --anim-ease: cubic-bezier(.25,.1,.25,1);

  /* Social sizing (mobile/base) */
  --social-icon-size: 37px;
  --social-pill-size: 49px;
  --social-gap: 13px;
  --social-bottom-pad: clamp(20px, 4vh, 48px);
}

/* ========== Base / Reset ========== */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  color: var(--fg);
  background: var(--bg);
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, system-ui, sans-serif;
}

/* ========== Layout: brand centered, socials pinned ========== */
.site {
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;   /* middle + bottom */
}

.brand-wrap {
  flex: 1;
  display: flex;
  align-items: center;               /* vertical center */
  justify-content: center;           /* horizontal center */
  padding-inline: 24px;
}

/* Shrink-wrap the brand block and hard-center it */
.brand {
  display: inline-grid;              /* intrinsic width of contents */
  margin-inline: auto;
  max-inline-size: 92vw;             /* prevent overflow on small viewports */
}

/* Stack: logo, name, tagline */
.brand-stack {
  display: grid;
  justify-items: center;
  row-gap: clamp(12px, 2vw, 24px);
}

/* ========== Brand assets (cross-fade) ========== */
.swap-img { position: relative; display: inline-block; }
.swap-img .layer { display: block; inline-size: 100%; height: auto; }
.swap-img .layer.color {
  position: absolute; inset: 0; opacity: 0; transition: opacity 220ms ease;
}
/* Fade color layers in when the whole brand is hovered/focused */
.brand:hover .swap-img .layer.color,
.brand:focus-within .swap-img .layer.color { opacity: 1; }

/* Smooth default transitions for elements inside the brand */
.brand * {
  transition:
    opacity var(--anim-dur) var(--anim-ease),
    transform var(--anim-dur) var(--anim-ease),
    filter var(--anim-dur) var(--anim-ease),
    color var(--anim-dur) var(--anim-ease),
    background-color var(--anim-dur) var(--anim-ease);
}

/* Tuned sizes (mobile-first; desktop bump below) */
.brand-logo { width: clamp(130px, 16vw, 220px); opacity: .85; }
.brand-name { width: clamp(350px, 52vw, 780px); }
.tagline    { font-size: clamp(17px, 1.8vw, 18px); line-height: 1.35; }

/* iPhone-ish safety: a touch more breathing room at tiny widths */
@media (max-width: 400px) {
  .brand { max-inline-size: 94vw; }
  .brand-name { width: 90vw; }
  .brand-logo { width: 30vw; }
}

/* Desktop emphasis: name bigger, logo slightly smaller */
@media (min-width: 1100px) {
  .brand-logo { width: clamp(140px, 12vw, 200px); }
  .brand-name { width: clamp(640px, 60vw, 1040px); }  /* bigger name */
}

/* ========== Tagline styling & hover colorization ========== */
.tagline {
  margin: 0;
  text-align: center;
  letter-spacing: 0.01em;
  color: #7a7a7a;                 /* neutral base for non-span text */
  transition: color 260ms ease;
}
.tagline .shift,
.tagline .design {
  font-weight: 700;
  color: inherit;                 /* inherit neutral by default */
  transition: color 260ms ease;
}
.tagline .double-slash { color: #9aa0a6; }

/* Whole-brand hover: non-span text → black; key words → brand colors */
.brand:hover .tagline,
.brand:focus-within .tagline { color: #000; }
.brand:hover .tagline .shift,
.brand:focus-within .tagline .shift { color: var(--brand-orange); }
.brand:hover .tagline .design,
.brand:focus-within .tagline .design { color: var(--brand-blue); }

/* ========== Cursor-style “//” animation in tagline ========== */
@keyframes cursor-blink { 0%,40%{opacity:.18} 50%,90%{opacity:1} 100%{opacity:.18} }

.tagline .double-slash {
  position: relative;
  display: inline-block;
  color: transparent;             /* hide literal // */
  letter-spacing: -0.18em;        /* pull slashes closer together */
  font: inherit;
}
.tagline .double-slash::before,
.tagline .double-slash::after {
  content: "/";
  position: relative;
  display: inline-block;
  line-height: 1;
  font: inherit; font-weight: 700;
  color: rgba(0,0,0,.45);
  animation: cursor-blink 1050ms steps(1,end) infinite;
  transition: color .25s ease, text-shadow .25s ease;
}
.tagline .double-slash::after { animation-delay: .10s; }

.brand:hover .tagline .double-slash::before,
.brand:focus-within .tagline .double-slash::before {
  color: var(--brand-orange); text-shadow: 0 0 .35em rgba(255,78,0,.45);
}
.brand:hover .tagline .double-slash::after,
.brand:focus-within .tagline .double-slash::after {
  color: var(--brand-blue); text-shadow: 0 0 .35em rgba(0,178,255,.45);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* ========== Social row (pinned, hover swap to white) ========== */
.social {
  position: fixed; left: 0; right: 0;
  bottom: var(--social-bottom-pad);
  display: flex; justify-content: center;
  pointer-events: auto; z-index: 30;
}

.social .social-grid {
  display: flex; align-items: center; justify-content: center;
  gap: var(--social-gap);
  margin: 0; padding: 0; list-style: none;
}

/* Clickable tile with iOS-like “squircle” bg that appears on hover
   NOTE: we use flex so the icon is mathematically centered inside the pill */
.social .tile {
  position: relative;
  display: flex;                   /* <-- perfect centering */
  align-items: center;
  justify-content: center;
  width: var(--social-pill-size);
  height: var(--social-pill-size);
  border-radius: 22%;
  text-decoration: none;
  -webkit-tap-highlight-color: transparent;
  transition: background-color 200ms ease, transform 200ms ease;
  background: transparent;        /* only black icon at rest */
  overflow: hidden;               /* guard against oversized bitmaps */
}
.social .tile:hover,
.social .tile:focus-visible { transform: translateZ(0) scale(1.06); }

/* Icon wrapper ensures exact box and keeps icons centered */
.social .icon-wrap {
  position: relative;
  display: flex;                   /* <-- also centered here */
  align-items: center;
  justify-content: center;
  width: var(--social-icon-size);
  height: var(--social-icon-size);
}

/* Stack two PNGs and fade between them; 'contain' centers them visually */
.social .icon {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: contain;
  image-rendering: -webkit-optimize-contrast;
  transition: opacity 160ms ease;
}
.social .img--default { opacity: 1; }
.social .img--hover   { opacity: 0; }

.social .tile:hover .img--default,
.social .tile:focus-visible .img--default { opacity: 0; }
.social .tile:hover .img--hover,
.social .tile:focus-visible .img--hover   { opacity: 1; }

/* Hover pill color per network */
.social .social-item.github   .tile:hover { background-color: var(--github); }
.social .social-item.medium   .tile:hover { background-color: var(--medium); }
.social .social-item.five00px .tile:hover { background-color: var(--five00px); } /* 500px */
.social .social-item.bluesky  .tile:hover { background-color: var(--bluesky); }
.social .social-item.mastodon .tile:hover { background-color: var(--mastodon); }
.social .social-item.email    .tile:hover { background-color: var(--email); }

/* Optional “NEW” capsule you place manually under an item */
.social .social-item { position: relative; }
.social .social-item .new-badge {
  position: absolute; left: 50%; top: calc(100% + 6px);
  transform: translateX(-50%);
  background: #E53935; color: #fff; font-weight: 700;
  font-size: 10px; line-height: 1;
  padding: 3px 8px; border-radius: 999px; letter-spacing: .02em;
  white-space: nowrap; box-shadow: 0 1px 2px rgba(0,0,0,.12);
  pointer-events: none;
}

/* Desktop: make icons a bit bigger */
@media (min-width: 1100px) {
  :root {
    --social-icon-size: 42px;   /* was 37 */
    --social-pill-size: 60px;   /* was 49 */
    --social-gap: 18px;
  }
  .social .social-item .new-badge {
    font-size: 12px;
    padding: 4px 10px;
    top: calc(100% + 8px);
    box-shadow: 0 2px 6px rgba(0,0,0,.16);
  }
}

/* Small-screen tweaks */
@media (max-width: 330px) {
  :root {
    --social-pill-size: 50px;
    --social-icon-size: 33px;
    --social-gap: 12px;
  }
  .social .social-item .new-badge {
    top: calc(100% + 4px);
    font-size: 9px;
    padding: 2px 6px;
  }
}

/* ------------------------------------
   SHIFT PORTAL DOT — ELECTRIC SINGULARITY
   ------------------------------------ */

.portal-wrapper {
  position: fixed;
  bottom: 36px;
  right: 44px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  z-index: 1000;
  user-select: none;
}

/* The dot — now slightly larger and more physical */
.portal-dot {
  position: relative;
  font-size: 2.2rem; /* slightly bigger base */
  color: #ff4e00;
  text-decoration: none;
  opacity: 0.8;
  transition: opacity .6s ease, transform .6s ease, text-shadow .6s ease;
}
.portal-wrapper:hover .portal-dot {
  opacity: 1;
  transform: scale(1.3); /* subtle enlargement */
  text-shadow: 0 0 12px rgba(255,78,0,0.9);
}

/* ⚡ Electric Sparks — subtle flicker arcs around the dot */
.portal-dot::before, .portal-dot::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2.5em;
  height: 2.5em;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
  pointer-events: none;
  filter: blur(3px);
  z-index: -1;
  background: radial-gradient(circle,
    rgba(255, 78, 0, 0.8) 0%,
    rgba(255, 78, 0, 0.4) 25%,
    rgba(255, 78, 0, 0) 70%);
}

.portal-wrapper:hover .portal-dot::before,
.portal-wrapper:hover .portal-dot::after {
  opacity: 0.5;
  animation: electricFlicker 1.6s infinite ease-in-out alternate;
}

.portal-wrapper:hover .portal-dot::after {
  animation-delay: 0.4s;
  filter: blur(6px);
}

@keyframes electricFlicker {
  0%   { transform: translate(-50%, -50%) scale(0.95); opacity: 0.35; filter: blur(4px); }
  10%  { transform: translate(-50%, -50%) scale(1.05) rotate(4deg); opacity: 0.8; }
  25%  { transform: translate(-50%, -50%) scale(0.9) rotate(-3deg); opacity: 0.4; }
  40%  { transform: translate(-50%, -50%) scale(1.1) rotate(2deg); opacity: 0.75; }
  55%  { transform: translate(-50%, -50%) scale(1.02) rotate(-2deg); opacity: 0.5; }
  70%  { transform: translate(-50%, -50%) scale(0.98) rotate(3deg); opacity: 0.7; }
  85%  { transform: translate(-50%, -50%) scale(1.06) rotate(-4deg); opacity: 0.6; }
  100% { transform: translate(-50%, -50%) scale(1); opacity: 0.45; filter: blur(5px); }
}

/* Smooth fade-out on hover off */
.portal-wrapper .portal-dot::before,
.portal-wrapper .portal-dot::after {
  transition: opacity 1.2s ease;
}
.portal-wrapper:not(:hover) .portal-dot::before,
.portal-wrapper:not(:hover) .portal-dot::after {
  opacity: 0;
}

/* CTA text above dot */
.portal-cta {
  color: #b4b4b4;
  font-size: 0.9rem;
  letter-spacing: 0.025em;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  pointer-events: none;
}
.portal-cta strong {
  color: #fff; /* bright and legible */
  font-weight: 700;
  letter-spacing: 0.015em;
}

/* Hover fade-in and smooth linger fade-out */
.portal-wrapper:hover .portal-cta {
  opacity: 0.9;
  transform: translateY(0);
}
.portal-wrapper:not(:hover) .portal-cta {
  transition-delay: 0.6s;
}

/* Accessibility: reduced motion disables animation */
@media (prefers-reduced-motion: reduce) {
  .portal-dot, .portal-cta {
    transition: none !important;
    animation: none !important;
  }
}

/* Mobile tweaks */
@media (max-width: 640px) {
  .portal-wrapper {
    bottom: 24px;
    right: 28px;
    gap: 6px;
  }
  .portal-dot {
    font-size: 1.8rem;
  }
  .portal-cta {
    font-size: 0.8rem;
  }
}
